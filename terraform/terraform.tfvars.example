# AWS Configuration
region      = "ap-northeast-1"
environment = "production"

# Transit Gateway Configuration
transit_gateway_name        = "tgw"
transit_gateway_description = "Multi-VPC Transit Gateway"

# Transit Gateway Route Tables
route_tables = {
  development = {
    name = "tgw-rt-development"
    tags = {
      "aws:cloudformation:stack-name"   = "tokyo-network"
      "aws:cloudformation:logical-id"   = "TransitGatewayRouteTableDevelopment"
      "aws:cloudformation:stack-id"     = "arn:aws:cloudformation:ap-northeast-1:123456789012:stack/tokyo-network/xxxxx"
    }
  }
  production = {
    name = "tgw-rt-production"
    tags = {
      "aws:cloudformation:stack-name"   = "tokyo-network"
      "aws:cloudformation:logical-id"   = "TransitGatewayRouteTableProduction"
      "aws:cloudformation:stack-id"     = "arn:aws:cloudformation:ap-northeast-1:123456789012:stack/tokyo-network/xxxxx"
    }
  }
  shared = {
    name = "tgw-rt-shared"
    tags = {
      "aws:cloudformation:stack-name"   = "tokyo-network"
      "aws:cloudformation:logical-id"   = "TransitGatewayRouteTableShared"
      "aws:cloudformation:stack-id"     = "arn:aws:cloudformation:ap-northeast-1:123456789012:stack/tokyo-network/xxxxx"
    }
  }
}

# VPC Attachments
vpc_attachments = {
  vpc1 = {
    name       = "tgw-attachment-vpc1"
    vpc_id     = "vpc-xxxxx"
    subnet_ids = ["subnet-xxxxx"]
  }
  vpc2 = {
    name       = "tgw-attachment-vpc2"
    vpc_id     = "vpc-yyyyy"
    subnet_ids = ["subnet-yyyyy"]
  }
}

# Route Table Associations
route_table_associations = {
  development_vpc2 = {
    route_table_key = "development"
    attachment_key  = "vpc2"
  }
  production_vpc1 = {
    route_table_key = "production"
    attachment_key  = "vpc1"
  }
}

# Route Table Propagations
route_table_propagations = {
  shared_vpc1 = {
    route_table_key = "shared"
    attachment_key  = "vpc1"
  }
  shared_vpc2 = {
    route_table_key = "shared"
    attachment_key  = "vpc2"
  }
}

# Transit Gateway Routes
tgw_routes = {
  # Development route table routes
  dev_10_1_0_0_16 = {
    destination_cidr_block = "10.1.0.0/16"
    route_table_key        = "development"
    attachment_key         = "vpc1"
  }
  dev_10_1_100_0_24 = {
    destination_cidr_block = "10.1.100.0/24"
    route_table_key        = "development"
    attachment_key         = "vpc1"
  }
  dev_192_168_0_0_16_blackhole = {
    destination_cidr_block = "192.168.0.0/16"
    route_table_key        = "development"
    blackhole              = true
  }

  # Production route table routes
  prod_10_2_0_0_16 = {
    destination_cidr_block = "10.2.0.0/16"
    route_table_key        = "production"
    attachment_key         = "vpc2"
  }
  prod_10_99_0_0_16_blackhole = {
    destination_cidr_block = "10.99.0.0/16"
    route_table_key        = "production"
    blackhole              = true
  }

  # Shared route table routes
  shared_0_0_0_0_0 = {
    destination_cidr_block = "0.0.0.0/0"
    route_table_key        = "shared"
    attachment_key         = "vpc1"
  }
  shared_10_1_0_0_16 = {
    destination_cidr_block = "10.1.0.0/16"
    route_table_key        = "shared"
    attachment_key         = "vpc1"
  }
  shared_10_2_0_0_16 = {
    destination_cidr_block = "10.2.0.0/16"
    route_table_key        = "shared"
    attachment_key         = "vpc2"
  }
}

# VPC Routes
vpc_routes = {
  vpc1_to_10_2_0_0_16 = {
    route_table_id         = "rtb-xxxxx"
    destination_cidr_block = "10.2.0.0/16"
  }
  vpc2_to_10_1_0_0_16 = {
    route_table_id         = "rtb-yyyyy"
    destination_cidr_block = "10.1.0.0/16"
  }
}

# Common Tags
tags = {
  ManagedBy = "Terraform"
  Project   = "TransitGateway"
}
